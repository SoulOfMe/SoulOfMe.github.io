<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä»é›¶å¼€å§‹æ­å»ºè½¯ç¡¬ä»¶åŸºç¡€è®¾æ–½</title>
    <meta name="description" content="æ¶æ„è®¾è®¡ã€ç¡¬ä»¶æ¸…å•ã€ç½‘ç»œè§„åˆ’ã€åŸºç¡€æœåŠ¡ã€ç›‘æ§ä¸å®‰å…¨çš„è½åœ°è·¯çº¿">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        :root{--bg:#f3f4f6;--card:#ffffff;--text:#1f2937;--muted:#6b7280;--link:#2563eb;--border:#e5e7eb}
        html.dark{--bg:#0b1220;--card:#0f172a;--text:#e5e7eb;--muted:#9ca3af;--link:#60a5fa;--border:#1f2937}
        html{scroll-behavior:smooth}
        body{background:var(--bg);color:var(--text)}
        header,footer{background:var(--card)}
        .card{background:var(--card)}
        .nav-link{color:var(--muted);transition:color .2s ease}
        .nav-link:hover{color:var(--link)}
        .brand{color:var(--text);transition:color .2s ease}
        .brand:hover{color:var(--link)}
        .btn{display:inline-flex;align-items:center;gap:.5rem;border:1px solid var(--border);padding:.5rem .75rem;border-radius:.5rem;background:var(--card);color:var(--text);transition:transform .1s ease,background .2s ease}
        .btn:active{transform:scale(.98)}
        .prose h1,.prose h2,.prose h3{color:var(--text)}
        .prose p{color:var(--muted)}
        pre{position:relative;background:var(--card);border:1px solid var(--border);border-radius:.5rem;padding:1rem}
        .copy-btn{position:absolute;top:.5rem;right:.5rem;font-size:.875rem}
        #backToTop{position:fixed;bottom:2rem;right:2rem;display:none}
    </style>
</head>
<body class="bg-gray-100 font-sans leading-normal tracking-normal">

    <header class="shadow-md">
        <nav class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="text-xl font-semibold">
                    <a href="/" class="brand">Soul Of Me åšå®¢</a>
                </div>
                <div class="flex items-center gap-2">
                    <button id="menuToggle" class="btn md:hidden" aria-label="æ‰“å¼€èœå•">èœå•</button>
                    <button id="themeToggle" class="btn" aria-label="åˆ‡æ¢ä¸»é¢˜">ğŸŒ™</button>
                </div>
            </div>
            <div id="navLinks" class="mt-3 hidden md:flex items-center">
                <a href="/how-to-start.html" class="nav-link px-3 py-2">å¦‚ä½•å¼€å§‹</a>
                <a href="/faq.html" class="nav-link px-3 py-2">FAQ</a>
                <a href="/contributing.html" class="nav-link px-3 py-2">è´¡çŒ®æŒ‡å—</a>
                <a href="/a-new-post.html" class="nav-link px-3 py-2">ä¸€ç¯‡æ–°æ–‡ç« </a>
            </div>
        </nav>
    </header>

    <main class="container w-full md:max-w-3xl mx-auto pt-10 pb-20 px-6">
        <div class="card p-8 rounded-lg shadow-lg">
            <h1 class="text-3xl font-bold mb-4">ä»é›¶å¼€å§‹æ­å»ºè½¯ç¡¬ä»¶åŸºç¡€è®¾æ–½</h1>
            <div class="prose lg:prose-xl">
                <h2 id="ç›®æ ‡ä¸èŒƒå›´">ç›®æ ‡ä¸èŒƒå›´</h2>

<p>ä»¥ä¸­å°å›¢é˜Ÿä¸ºåœºæ™¯ï¼Œæ­å»ºç¨³å®šã€å¯æ‰©å±•ã€å¯è§‚æµ‹çš„è½¯ç¡¬ä»¶åŸºç¡€è®¾æ–½ï¼Œè¦†ç›–ç½‘ç»œã€èº«ä»½ã€ä»£ç æ‰˜ç®¡ä¸äº¤ä»˜ã€å®¹å™¨ç¼–æ’ã€ç›‘æ§æ—¥å¿—ã€å¤‡ä»½ä¸å®‰å…¨ã€‚</p>

<h2 id="æ€»ä½“æ¶æ„">æ€»ä½“æ¶æ„</h2>

<p>æ ¸å¿ƒåˆ†å±‚ï¼šæ¥å…¥å±‚ï¼ˆç½‘å…³ä¸é˜²ç«å¢™ï¼‰ã€ç½‘ç»œå±‚ï¼ˆäº¤æ¢ä¸ VLANï¼‰ã€æœåŠ¡å±‚ï¼ˆèº«ä»½ã€DNS/DHCP/NTPï¼‰ã€åº”ç”¨å±‚ï¼ˆä»£ç æ‰˜ç®¡ä¸ CI/CDã€åˆ¶å“ä»“åº“ã€é•œåƒä¸å®¹å™¨ï¼‰ã€å¯è§‚æµ‹å±‚ï¼ˆç›‘æ§æ—¥å¿—å‘Šè­¦ï¼‰ã€æ•°æ®å±‚ï¼ˆå¤‡ä»½ä¸æ¢å¤ï¼‰ã€‚</p>

<h2 id="ç¡¬ä»¶æ¸…å•å»ºè®®">ç¡¬ä»¶æ¸…å•å»ºè®®</h2>

<ul>
  <li>ç½‘å…³/é˜²ç«å¢™ï¼šå…·å¤‡åƒå…†äº¤æ¢ä¸ç­–ç•¥è·¯ç”±ï¼Œæ”¯æŒ VPN</li>
  <li>ç®¡ç†äº¤æ¢æœºï¼šL2/L3 ç®¡ç†å‹ï¼Œæ”¯æŒ VLANã€é“¾è·¯èšåˆ</li>
  <li>æœåŠ¡å™¨ï¼š2 å°ä»¥ä¸Š x86ï¼Œ32G å†…å­˜ï¼ŒSSD/NVMeï¼Œå†—ä½™ç”µæº</li>
  <li>å­˜å‚¨ï¼šNASï¼Œæ”¯æŒå¿«ç…§ä¸è¿œç¨‹å¤‡ä»½ï¼ˆå¦‚ ZFS/Btrfsï¼‰</li>
  <li>æœºæŸœä¸é…ç”µï¼šUPSï¼Œåˆç†å¸ƒçº¿ä¸æ ‡è¯†</li>
</ul>

<h2 id="ç½‘ç»œè§„åˆ’">ç½‘ç»œè§„åˆ’</h2>

<ul>
  <li>åœ°å€æ®µï¼šåŒºåˆ†ç®¡ç†ã€æœåŠ¡å™¨ã€åŠå…¬ã€è®¿å®¢ VLAN</li>
  <li>DNS/DHCPï¼šç»Ÿä¸€ç®¡ç†ä¸ä¿ç•™åœ°å€æ± </li>
  <li>NTPï¼šç»Ÿä¸€æ—¶é—´æºï¼Œæ—¥å¿—ä¸è¯ä¹¦ä¾èµ–</li>
  <li>è®¿é—®æ§åˆ¶ï¼šæœ€å°æƒé™åŸåˆ™ï¼Œæ˜ç¡®å—åŒ—å‘ä¸ä¸œè¥¿å‘æµé‡ç­–ç•¥</li>
</ul>

<h2 id="åŸºç¡€æœåŠ¡">åŸºç¡€æœåŠ¡</h2>

<ul>
  <li>èº«ä»½è®¤è¯ï¼šAD/LDAPï¼Œé›†ä¸­è´¦å·ä¸æƒé™ï¼Œæ¥å…¥ GitLab/Jenkins/Registry</li>
  <li>åç§°è§£æä¸æœåŠ¡å‘ç°ï¼šDNSï¼Œå†…éƒ¨åŸŸä¸è®°å½•è§„èŒƒ</li>
  <li>æ—¶é—´æœåŠ¡ï¼šNTPï¼Œé«˜å¯ç”¨ä¸ä¸Šæ¸¸å†—ä½™</li>
</ul>

<h2 id="ä»£ç æ‰˜ç®¡ä¸-cicd">ä»£ç æ‰˜ç®¡ä¸ CI/CD</h2>

<ul>
  <li>GitLabï¼šé¡¹ç›®ç®¡ç†ã€Issueã€Merge Request ä¸æƒé™æ¨¡å‹</li>
  <li>Runnerï¼šDocker æ‰§è¡Œç¯å¢ƒï¼Œéš”ç¦»æ„å»ºä¸éƒ¨ç½²</li>
  <li>åˆ¶å“ä»“åº“ï¼šRegistry/Nexusï¼Œå›ºåŒ–æ„å»ºäº§ç‰©ä¸ä¾èµ–</li>
  <li>æµæ°´çº¿ï¼šåˆ†å±‚æ„å»ºã€æµ‹è¯•ã€å‘å¸ƒä¸éƒ¨ç½²ï¼ŒåŒºåˆ†ç¯å¢ƒå¹¶è®¾ç«‹é—¨ç¦</li>
</ul>

<h2 id="å®¹å™¨ä¸ç¼–æ’">å®¹å™¨ä¸ç¼–æ’</h2>

<ul>
  <li>æœ¬åœ°ä¸å‡†ç”Ÿäº§ï¼šDocker Composeï¼Œå¿«é€Ÿè¿­ä»£ä¸ä¸€è‡´æ€§</li>
  <li>å°è§„æ¨¡ç¼–æ’ï¼šKubernetes æˆ– K3sï¼Œå¸¦æ¥æœåŠ¡å‘ç°ã€æ»šåŠ¨æ›´æ–°ä¸ HPA</li>
  <li>å…¥å£ç½‘å…³ï¼šTraefik/Caddy/Ingressï¼Œè¯ä¹¦è‡ªåŠ¨åŒ–ä¸æŒ‰åŸŸè·¯ç”±</li>
</ul>

<h2 id="ç›‘æ§ä¸æ—¥å¿—">ç›‘æ§ä¸æ—¥å¿—</h2>

<ul>
  <li>æŒ‡æ ‡ï¼šPrometheus + Grafanaï¼ŒèŠ‚ç‚¹ä¸åº”ç”¨æŒ‡æ ‡é‡‡é›†ä¸å¯è§†åŒ–</li>
  <li>æ—¥å¿—ï¼šLoki/ELKï¼Œé›†ä¸­å¼æ—¥å¿—ä¸æ£€ç´¢</li>
  <li>å‘Šè­¦ï¼šAlertmanagerï¼Œä¸ IM æˆ–é‚®ä»¶é›†æˆ</li>
</ul>

<p>ç¤ºä¾‹ Docker Composeï¼š</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">services</span><span class="pi">:</span>
  <span class="na">prometheus</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">prom/prometheus</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">./prometheus.yml:/etc/prometheus/prometheus.yml</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">9090:9090"</span>
  <span class="na">grafana</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">grafana/grafana</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">3000:3000"</span>
    <span class="na">depends_on</span><span class="pi">:</span>
      <span class="na">prometheus</span><span class="pi">:</span>
        <span class="na">condition</span><span class="pi">:</span> <span class="s">service_started</span>
</code></pre></div></div>

<h2 id="å¤‡ä»½ä¸å®¹ç¾">å¤‡ä»½ä¸å®¹ç¾</h2>

<ul>
  <li>ç­–ç•¥ï¼š3-2-1 åŸåˆ™ï¼Œå¤šå‰¯æœ¬ã€å¤šä»‹è´¨ã€å¼‚åœ°å¤‡ä»½</li>
  <li>çº§åˆ«ï¼šæ•°æ®åº“ã€å¯¹è±¡å­˜å‚¨ã€æ–‡ä»¶ç³»ç»Ÿä¸é…ç½®</li>
  <li>æ¢å¤æ¼”ç»ƒï¼šå®šæœŸæ ¡éªŒä¸æ¼”ç»ƒï¼Œç¼©çŸ­ RTO ä¸ RPO</li>
</ul>

<h2 id="å®‰å…¨ä¸é›¶ä¿¡ä»»">å®‰å…¨ä¸é›¶ä¿¡ä»»</h2>

<ul>
  <li>èº«ä»½ä¸ºä¸­å¿ƒï¼šSSOã€å¤šå› ç´ è®¤è¯ä¸ç»†ç²’åº¦æˆæƒ</li>
  <li>ç½‘ç»œåˆ†æ®µï¼šVLAN ä¸å®‰å…¨åŸŸè¾¹ç•Œï¼Œå¾®åˆ†æ®µæ§åˆ¶ä¸œè¥¿å‘æµé‡</li>
  <li>è¯ä¹¦ä¸å¯†é’¥ï¼šé›†ä¸­ç®¡ç†ä¸è‡ªåŠ¨ç»­æœŸï¼Œå¯†é’¥æœ€å°æš´éœ²é¢</li>
  <li>å®¡è®¡ï¼šç™»å½•ã€å˜æ›´ã€å‘å¸ƒä¸è®¿é—®çš„å®¡è®¡é—­ç¯</li>
</ul>

<h2 id="è½åœ°æ­¥éª¤ä¸æ—¶é—´è¡¨">è½åœ°æ­¥éª¤ä¸æ—¶é—´è¡¨</h2>

<ol>
  <li>ç¬¬ 1 å‘¨ï¼šç½‘ç»œä¸åŸºç¡€æœåŠ¡ä¸Šçº¿ï¼ˆDNS/DHCP/NTP/LDAPï¼‰</li>
  <li>ç¬¬ 2 å‘¨ï¼šGitLab ä¸ Runnerï¼Œåˆ¶å“ä»“åº“ä¸é•œåƒä»“åº“</li>
  <li>ç¬¬ 3 å‘¨ï¼šç›‘æ§ä¸æ—¥å¿—æ ˆï¼Œç»Ÿä¸€å‘Šè­¦é€šé“ä¸çœ‹æ¿</li>
  <li>ç¬¬ 4 å‘¨ï¼šåº”ç”¨å®¹å™¨åŒ–ä¸ç¼–æ’ï¼Œåˆ†ç¯å¢ƒå‘å¸ƒä¸ç°åº¦</li>
  <li>ç¬¬ 5 å‘¨ï¼šå¤‡ä»½ä¸å®¹ç¾ç­–ç•¥è½åœ°ï¼Œæ¼”ç»ƒä¸æ–‡æ¡£åŒ–</li>
</ol>

<h2 id="æˆæœ¬ä¼°ç®—ä¸è§„æ¨¡æ‰©å±•">æˆæœ¬ä¼°ç®—ä¸è§„æ¨¡æ‰©å±•</h2>

<p>ç¡¬ä»¶ä¸€æ¬¡æ€§æŠ•å…¥ä¸æŒç»­ç”µåŠ›/æœºæˆ¿æˆæœ¬ï¼›è½¯ä»¶å¯é€‰ç¤¾åŒºæˆ–ä¼ä¸šç‰ˆã€‚éšå›¢é˜Ÿè§„æ¨¡ä¸åº”ç”¨å¤æ‚åº¦ï¼Œé€æ­¥å¼•å…¥ç¼–æ’ä¸æœåŠ¡ç½‘æ ¼ç­‰èƒ½åŠ›ã€‚</p>

<h2 id="ç»“è¯­">ç»“è¯­</h2>

<p>ä»é›¶åˆ°ä¸€çš„åŸºç¡€è®¾æ–½å»ºè®¾æ ¸å¿ƒåœ¨äºæ ‡å‡†åŒ–ä¸å¯è§‚æµ‹æ€§ï¼Œå…ˆæ‰“å¥½ç½‘ç»œä¸åŸºç¡€æœåŠ¡ï¼Œå†é€æ­¥å¼•å…¥ CI/CD ä¸å®¹å™¨åŒ–ï¼Œæœ€ç»ˆä»¥ç›‘æ§ã€æ—¥å¿—ä¸å®‰å…¨é—­ç¯ä¿éšœç¨³å®šè¿è¥ã€‚</p>

            </div>
        </div>
    </main>

    <footer class="mt-10">
        <div class="container mx-auto px-6 py-4 text-center text-gray-600">
            <p>&copy; 2024 Soul Of Me åšå®¢. All rights reserved.</p>
        </div>
    </footer>

    <button id="backToTop" class="btn">è¿”å›é¡¶éƒ¨</button>

    <script>
        ;(function(){
            var stored=localStorage.getItem('theme');
            var prefers=window.matchMedia('(prefers-color-scheme: dark)').matches?'dark':'light';
            var initial=stored||prefers;
            if(initial==='dark')document.documentElement.classList.add('dark');
            var themeBtn=document.getElementById('themeToggle');
            if(themeBtn){
                themeBtn.textContent=document.documentElement.classList.contains('dark')?'â˜€ï¸':'ğŸŒ™';
                themeBtn.addEventListener('click',function(){
                    document.documentElement.classList.toggle('dark');
                    var isDark=document.documentElement.classList.contains('dark');
                    localStorage.setItem('theme',isDark?'dark':'light');
                    themeBtn.textContent=isDark?'â˜€ï¸':'ğŸŒ™';
                });
            }
            var menuBtn=document.getElementById('menuToggle');
            var navLinks=document.getElementById('navLinks');
            if(menuBtn&&navLinks){
                menuBtn.addEventListener('click',function(){
                    if(navLinks.classList.contains('hidden')){navLinks.classList.remove('hidden')}else{navLinks.classList.add('hidden')}
                });
            }
            var back=document.getElementById('backToTop');
            if(back){
                window.addEventListener('scroll',function(){
                    if(window.scrollY>300){back.style.display='block'}else{back.style.display='none'}
                });
                back.addEventListener('click',function(){window.scrollTo({top:0,behavior:'smooth'})});
            }
            var codes=document.querySelectorAll('pre > code');
            codes.forEach(function(code){
                var btn=document.createElement('button');
                btn.className='btn copy-btn';
                btn.textContent='å¤åˆ¶';
                btn.addEventListener('click',function(){
                    var text=code.innerText;
                    navigator.clipboard.writeText(text).then(function(){btn.textContent='å·²å¤åˆ¶';setTimeout(function(){btn.textContent='å¤åˆ¶'},1500)});
                });
                code.parentElement.appendChild(btn);
            });
        })();
    </script>

</body>
</html>
